<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pqdong.movie.recommend.mapper.MovieMapper">

    <resultMap id="BaseResultMap" type="pqdong.movie.recommend.data.entity.Movie">
            <id property="id" column="id" jdbcType="BIGINT"/>
            <result property="actorIds" column="actor_ids" jdbcType="VARCHAR"/>
            <result property="actors" column="actors" jdbcType="VARCHAR"/>
            <result property="cover" column="cover" jdbcType="VARCHAR"/>
            <result property="directorIds" column="director_ids" jdbcType="VARCHAR"/>
            <result property="directors" column="directors" jdbcType="VARCHAR"/>
            <result property="genres" column="genres" jdbcType="VARCHAR"/>
            <result property="languages" column="languages" jdbcType="VARCHAR"/>
            <result property="mins" column="mins" jdbcType="INTEGER"/>
            <result property="name" column="name" jdbcType="VARCHAR"/>
            <result property="officialSite" column="official_site" jdbcType="VARCHAR"/>
            <result property="regions" column="regions" jdbcType="VARCHAR"/>
            <result property="releaseDate" column="release_date" jdbcType="DATE"/>
            <result property="score" column="score" jdbcType="FLOAT"/>
            <result property="storyline" column="storyline" jdbcType="VARCHAR"/>
            <result property="tags" column="tags" jdbcType="VARCHAR"/>
            <result property="votes" column="votes" jdbcType="INTEGER"/>
            <result property="year" column="year" jdbcType="INTEGER"/>
            <result property="isUp" column="is_up" jdbcType="TINYINT"/>
    </resultMap>

    <sql id="Base_Column_List">
        id,actor_ids,actors,
        cover,director_ids,directors,
        genres,languages,mins,
        name,official_site,regions,
        release_date,score,storyline,
        tags,votes,year,is_up
    </sql>

    <select id="selectTopMovies" resultType="pqdong.movie.recommend.data.entity.Movie">
        SELECT * FROM movie ORDER BY score desc LIMIT #{limit}
    </select>
</mapper>
